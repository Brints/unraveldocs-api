server.port=${PORT:8080}

# App
app.base.url=${APP_BASE_URL:https://your-app.herokuapp.com}
app.support.email=${SUPPORT_EMAIL:no-reply@example.com}
app.unsubscribe.url=${APP_BASE_URL:https://your-app.herokuapp.com}/unsubscribe

# DB (Heroku provides JDBC_DATABASE_* via Java buildpack or parse from DATABASE_URL)
spring.datasource.url=${JDBC_DATABASE_URL}
spring.datasource.username=${JDBC_DATABASE_USERNAME}
spring.datasource.password=${JDBC_DATABASE_PASSWORD}
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Flyway
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# Hikari (keep small pool on Hobby plans)
spring.datasource.hikari.maximum-pool-size=${DB_POOL_SIZE:5}

# Redis (optional)
spring.data.redis.url=${REDIS_URL:}
spring.data.redis.ssl.enabled=${REDIS_SSL_ENABLED:true}

# RabbitMQ (optional via CloudAMQP)
spring.rabbitmq.addresses=${CLOUDAMQP_URL:}

# AWS S3 (do not use LocalStack in Heroku)
aws.s3.region=${AWS_REGION}
aws.access-key=${AWS_ACCESS_KEY_ID}
aws.secret-key=${AWS_SECRET_ACCESS_KEY}
aws.s3.bucket=${S3_BUCKET}
aws.s3.cloudfront.url=${CLOUDFRONT_URL:}

# JWT
app.jwt-secret=${JWT_SECRET}
app.jwt-expiration-milliseconds=3600000
app.jwt-refresh-token-expiration-milliseconds=2592000000

# Stripe (test keys for now)
stripe.api.secret-key=${STRIPE_SECRET_KEY}
stripe.webhook-secret=${STRIPE_WEBHOOK_SECRET}
stripe.checkout.success-url=${STRIPE_SUCCESS_URL:${app.base.url}/payment-success}
stripe.checkout.cancel-url=${STRIPE_CANCEL_URL:${app.base.url}/payment-cancel}

# Mailgun
mailgun.api-key=${MAILGUN_API_KEY:}
mailgun.from-email=${MAILGUN_FROM:}
mailgun.domain=${MAILGUN_DOMAIN:}
mailgun.http.webhook.signingin-key=${MAILGUN_SIGNING_KEY:}

# Cloudinary
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME:}
cloudinary.api-key=${CLOUDINARY_API_KEY:}
cloudinary.api-secret=${CLOUDINARY_API_SECRET:}

# Twilio
twilio.account-sid=${TWILI0_ACCOUNT_SID:}
twilio.auth-token=${TWILIO_AUTH_TOKEN:}
twilio.phone-number=${TWILIO_PHONE_NUMBER:}

# Tesseract (Linux path; set TESSDATA_PREFIX if customized)
tesseract.datapath=${TESSDATA_PREFIX:/usr/share/tesseract-ocr/4.00/tessdata}

# Swagger on production is optional; disable if not needed
springdoc.api-docs.path=/docs
springdoc.swagger-ui.path=/swagger-ui

# Logging
logging.level.root=INFO